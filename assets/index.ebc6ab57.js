var N=Object.defineProperty;var g=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var B=(a,t,o)=>t in a?N(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,w=(a,t)=>{for(var o in t||(t={}))$.call(t,o)&&B(a,o,t[o]);if(g)for(var o of g(t))q.call(t,o)&&B(a,o,t[o]);return a};var b=(a,t,o)=>new Promise((_,r)=>{var l=s=>{try{c(o.next(s))}catch(i){r(i)}},p=s=>{try{c(o.throw(s))}catch(i){r(i)}},c=s=>s.done?_(s.value):Promise.resolve(s.value).then(l,p);c((o=o.apply(a,t)).next())});import{B as I}from"./TableAction.vue_vue_type_script_lang.ffed8587.js";import{T as M}from"./TableAction.b9d9fc8a.js";import{r as O,a as U}from"./index.ef0d588e.js";import{columns as V}from"./datas.a669582a.js";import{d as j,f as z,r as k,eZ as K,u as L,b as E,c0 as S,c1 as Z,o as G,c as H,i as n,w as u,h as d,j as y,N as J,l as Q,c5 as W,c6 as X,ca as Y,c7 as oo}from"./index.b3761311.js";import{_ as eo}from"./info.vue_vue_type_script_setup_true_lang.08d52f37.js";import{P as to}from"./PlusOutlined.a8f01f54.js";import{P as no}from"./PlusCircleOutlined.8af8f1d1.js";import"./vuedraggable.umd.5a8aa1d8.js";import"./useDesignSetting.881a1a3f.js";import"./SettingOutlined.2ffa6934.js";import"./propTypes.6493034d.js";import"./FormOutlined.6078f8e5.js";import"./ReloadOutlined.2a03f036.js";import"./componentSetting.e6bd74f7.js";import"./index.af298986.js";import"./DownOutlined.5d774322.js";const Eo=j({__name:"index",setup(a){const t=z(),o=k(),_=K(),r=L(),l=k(!1),p=E({product:{}}),c=E({width:"20%",title:"\u64CD\u4F5C",key:"action",fixed:"right",align:"center",render(e){return S(M,{style:"button",actions:[{label:"\u8BE6\u60C5",onClick:v.bind(null,e)},{label:"\u7F16\u8F91",onClick:x.bind(null,e)},{label:"\u5220\u9664",type:"error",onClick:D.bind(null,e)}]})}});function s(){t.push({name:"product-create"})}const i=e=>b(this,null,function*(){return yield U(w({},e))});function F(e){console.log(e)}function v(e){console.log("\u70B9\u51FB\u4E86\u67E5\u770B\u8BE6\u60C5",e),l.value=!0,p.product=Z(e)}function x(e){console.log("\u70B9\u51FB\u4E86\u7F16\u8F91",e),t.push({name:"product-create",query:{productId:e.id}})}function D(e){console.log("\u70B9\u51FB\u4E86\u5220\u9664",e),_.error({title:"\u63D0\u793A",content:`\u60A8\u60F3\u5220\u9664 \u3010${e.description}\u3011`,positiveText:"\u786E\u5B9A",negativeText:"\u53D6\u6D88",onPositiveClick:()=>{O(e.id).then(()=>{r.success("\u5220\u9664\u6210\u529F"),o.value.reload()})},onNegativeClick:()=>{}})}return(e,f)=>{const C=J,h=Q,A=W,P=X,T=Y,R=oo;return G(),H("div",null,[n(T,{bordered:!1,class:"proCard"},{default:u(()=>[n(d(I),{columns:d(V),request:i,"row-key":m=>m.id,ref_key:"actionRef",ref:o,actionColumn:c,"onUpdate:checkedRowKeys":F,"scroll-x":1090},{tableTitle:u(()=>[n(P,null,{default:u(()=>[n(h,{type:"primary",onClick:s},{icon:u(()=>[n(C,null,{default:u(()=>[n(d(to))]),_:1})]),default:u(()=>[y(" \u65B0\u5EFA\u4EA7\u54C1 ")]),_:1}),n(A,{hidden:""},{default:u(()=>[n(h,{type:"success"},{icon:u(()=>[n(C,null,{default:u(()=>[n(d(no))]),_:1})]),default:u(()=>[y("\u5BFC\u5165\u4EA7\u54C1")]),_:1})]),_:1})]),_:1})]),_:1},8,["columns","row-key","actionColumn"])]),_:1}),n(R,{style:{"max-width":"70%"},preset:"card",title:"\u4EA7\u54C1\u8BE6\u60C5",size:"huge",show:l.value,"onUpdate:show":f[0]||(f[0]=m=>l.value=m)},{default:u(()=>[n(eo,{product:p.product},null,8,["product"])]),_:1},8,["show"])])}}});export{Eo as default};
