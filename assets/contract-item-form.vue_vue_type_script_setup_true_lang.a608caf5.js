var P=Object.defineProperty;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var v=(r,a,e)=>a in r?P(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,F=(r,a)=>{for(var e in a||(a={}))k.call(a,e)&&v(r,e,a[e]);if(g)for(var e of g(a))U.call(a,e)&&v(r,e,a[e]);return r};import{g as q}from"./index.6b264d0f.js";import{d as y,r as A,b as x,ae as D,c3 as N,o as V,c4 as j,w as o,i as t,h as n,j as b,c9 as z,k as G,cH as H,_ as L,cG as M,c7 as O,m as R}from"./index.d04f1737.js";const K=y({__name:"contract-item-form",props:{item:{}},setup(r){const e=r.item,c=A(!0),i=x([]),m=D(()=>i.map(s=>({label:s.description,value:s.id}))),h={productId:{required:!0,type:"number",trigger:["blur","change"],message:"\u8BF7\u9009\u62E9\u4EA7\u54C1"},amount:{required:!0,type:"number",trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u6570\u91CF"},unitPrice:{required:!0,type:"number",trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u5355\u4EF7"},unit:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u5355\u4F4D"},material:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u6750\u6599\u578B\u53F7"}},B=()=>{if(m.value.length>0){c.value=!1;return}q().then(s=>{i.length=0,s.forEach(u=>{i.push(F({},u))}),c.value=!1})},C=(s,u)=>{e.productName=i.filter(d=>d.id==s)[0].description};return N(()=>{B()}),(s,u)=>{const d=z,p=G,E=H,_=L,f=M,I=O,w=R;return V(),j(w,{ref:"contractItemFormRef","label-width":"auto","label-placement":"left",model:n(e),rules:h},{default:o(()=>[t(I,{vertical:""},{default:o(()=>[t(p,{label:"\u4EA7\u54C1",path:"productId"},{default:o(()=>[t(d,{value:n(e).productId,"onUpdate:value":[u[0]||(u[0]=l=>n(e).productId=l),C],placeholder:"\u8BF7\u9009\u62E9\u4EA7\u54C1",clearable:"",remote:"",options:m.value,loading:c.value,size:"small"},null,8,["value","options","loading"])]),_:1}),t(p,{label:"\u662F\u5426\u72EC\u7ACB\u4EA7\u54C1",path:"isIndependent"},{default:o(()=>[t(E,{value:n(e).isIndependent,"onUpdate:value":u[1]||(u[1]=l=>n(e).isIndependent=l),"unchecked-value":!1,"checked-value":!0},{checked:o(()=>[b(" \u662F ")]),unchecked:o(()=>[b(" \u5426 ")]),_:1},8,["value"])]),_:1}),t(p,{label:"\u6750\u6599\u578B\u53F7",path:"material"},{default:o(()=>[t(_,{value:n(e).material,"onUpdate:value":u[2]||(u[2]=l=>n(e).material=l),placeholder:"\u6750\u6599\u578B\u53F7"},null,8,["value"])]),_:1}),t(p,{label:"\u6570\u91CF",path:"amount"},{default:o(()=>[t(f,{clearable:"",style:{width:"100%"},"show-button":!1,value:n(e).amount,"onUpdate:value":u[3]||(u[3]=l=>n(e).amount=l),placeholder:"\u6570\u91CF"},null,8,["value"])]),_:1}),t(p,{label:"\u5355\u4EF7",path:"unitPrice"},{default:o(()=>[t(f,{"show-button":!1,style:{width:"100%"},clearable:"",value:n(e).unitPrice,"onUpdate:value":u[4]||(u[4]=l=>n(e).unitPrice=l),placeholder:"\u5355\u4EF7"},null,8,["value"])]),_:1}),t(p,{label:"\u5355\u4F4D",path:"unit"},{default:o(()=>[t(_,{value:n(e).unit,"onUpdate:value":u[5]||(u[5]=l=>n(e).unit=l),placeholder:"\u5355\u4F4D"},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["model"])}}});export{K as _};
